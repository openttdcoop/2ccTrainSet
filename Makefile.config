# Settings for the Makefile which define
# various things like the names, paths, etc pp
#
# 

# GRF Name, Version, Build type or date
GRF_NAME        = 2cc Train Set
GRF_NIGHTLYNAME = nightly

# The filename of the GRF
FILENAME        = 2cctrainset
NAME 	        = $(FILENAME)


NFO_SUFFIX = nfo
GRF_SUFFIX = grf
PNFO_SUFFIX = nfo.pre

# Build parameters and programmes
NFORENUM_FLAGS = -w 141
GRFCODEC_FLAGS = -e -p 2
TAR_FLAGS      = cf
ZIP_FLAGS      = -9f
BZIP_FLAGS     = -k9f

NFORENUM = renum
GRFCODEC = grfcodec
TAR      = tar
ZIP      = gzip
BZIP     = bzip2

# Paths defining the directory layout
SPRITEDIR   = sprites
SCRIPTDIR   = scripts
DOCDIR      = doc
WEBDIR      = website
NFODIR      = $(SPRITEDIR)/nfo
MAINDIRS    = $(SPRITEDIR) $(SCRIPTDIR) $(DOCDIR) $(WEBDIR) $(BUNDLEDIR)

# Names of the subdirectories for the single regions. All nfo
# files from there will be put into the final grf.
SUB_DIRS = 2africa 3asia 4e-eu 5n-am 6s-am 7ocean 8scandinavia 9s-eu 10w-eu

# The language directory. All nfo files from there will be
# put into the final grf.
LANG_DIR    = strings

# Filenames to include in the grf in sprites/nfo
# HEADER goes first, FOOTER goes last. The others are 
# placed behind header and before engines and language strings.
HEADER      = 00header.pnfo
OTHERS      = 01wagons.pnfo 00sounds.pnfo 11maglev.pnfo
FOOTER      = regsel.pnfo

# Define how the displayed name and the filename of the bundled grf shall look like:
GRF_BUILDNAME= $(shell [ -n "$(REPO_TAGS)" ] && echo $(REPO_TAGS)$(GRF_MODIFIED) || echo $(GRF_NIGHTLYNAME)-r$(GRF_REVISION)$(GRF_MODIFIED))

GRF_TITLE    = $(GRF_NAME) $(GRF_BUILDNAME)

BUILDFILENAME = $(FILENAME)-$(GRF_BUILDNAME)
TAR_FILENAME  = $(BUILDFILENAME).tar
BZIP_FILENAME = $(BUILDFILENAME).bz2
ZIP_FILENAME  = $(BUILDFILENAME).zip
NFO_FILENAME  = $(SPRITEDIR)/$(addsuffix .$(NFO_SUFFIX), $(FILENAME))
PNFO_FILENAME = $(SPRITEDIR)/$(addsuffix .$(PNFO_SUFFIX),$(FILENAME))
GRF_FILENAME  = $(addsuffix .$(GRF_SUFFIX), $(FILENAME))

# Files to include in a release
BUNDLE_FILES  = $(GRF_FILENAME) $(DOCDIR)/license.txt $(DOCDIR)/readme.txt $(DOCDIR)/changelog.txt

HEADER_FILE   = $(NFODIR)/$(HEADER)
FOOTER_FILE   = $(NFODIR)/$(FOOTER)
OTHER_FILES   = $(addprefix $(NFODIR)/,$(OTHERS))
LANG_FILES    = $(wildcard $(NFODIR)/$(LANG_DIR)/*.$(NFO_SUFFIX))
SUB_FILES     = $(foreach dir,$(SUB_DIRS),$(wildcard $(NFODIR)/$(dir)/*.$(NFO_SUFFIX)))

DIR_NAME     = $(BUILDFILENAME)